<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Drum Kit</title>
    <link rel="stylesheet" href="./style.css" type="text/css" />
  </head>
  <body>

    <div class="app">
      <div class="pads-container">
        <div class="set">
          <div class="pad" data-key="81"><h1>Q</h1><h4>Clap</h4></div>
          <div class="pad" data-key="87"><h1>W</h1><h4>Crash</h4></div>
          <div class="pad" data-key="69"><h1>E</h1><h4>Hi Hat 1</h4></div>
          <div class="pad" data-key="82"><h1>R</h1><h4>Hi Hat 2</h4></div>
        </div>

        <div class="set">
          <div class="pad" data-key="65"><h1>A</h1><h4>Kick 1</h4></div>
          <div class="pad" data-key="83"><h1>S</h1><h4>Kick 2</h4></div>
          <div class="pad" data-key="68"><h1>D</h1><h4>Open Hi Hat</h4></div>
          <div class="pad" data-key="70"><h1>F</h1><h4>Perc 1</h4></div>
        </div>

        <div class="set">
          <div class="pad" data-key="90"><h1>Z</h1><h4>Perc 2</h4></div>
          <div class="pad" data-key="88"><h1>X</h1><h4>Ride</h4></div>
          <div class="pad" data-key="67"><h1>C</h1><h4>Snare 1</h4></div>
          <div class="pad" data-key="86"><h1>V</h1><h4>Snare 2</h4></div>
        </div>
      </div> <!-- end pads-container -->
    </div> <!-- end app -->

    <div class="sounds">
        <audio data-key="81" src="./sounds/Kit 1/Clap.wav"></audio>
        <audio data-key="87" src="./sounds/Kit 1/Crash.wav"></audio>
        <audio data-key="69" src="./sounds/Kit 1/Hi Hat 1.wav" ></audio>
        <audio data-key="82" src="./sounds/Kit 1/Hi Hat 2.wav" ></audio>

        <audio data-key="65" src="./sounds/Kit 1/Kick 1.wav" ></audio>
        <audio data-key="83" src="./sounds/Kit 1/Kick 2.wav" ></audio>
        <audio data-key="68" src="./sounds/Kit 1/Open Hi Hat.wav" ></audio>
        <audio data-key="70" src="./sounds/Kit 1/Perc 1.wav" ></audio>

        <audio data-key="90" src="./sounds/Kit 1/Perc 2.wav" ></audio>
        <audio data-key="88" src="./sounds/Kit 1/Ride.wav" ></audio>
        <audio data-key="67" src="./sounds/Kit 1/Snare 1.wav" ></audio>
        <audio data-key="86" src="./sounds/Kit 1/Snare 2.wav" ></audio>
    </div>

    <script>
      window.addEventListener('keydown', (e)=>{
        const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
        const pad = document.querySelector(`.pad[data-key="${e.keyCode}"]`);
        if (!audio) return;
        audio.currentTime = 0; // rewind to start
        pad.classList.add('playing');
        audio.play();
      });

      function removeTransition(e) {
        if(e.propertyName !== 'transform') return;
        this.classList.remove('playing');
      }

      const pads = document.querySelectorAll('.pad');
      pads.forEach(pad => {
        pad.addEventListener('transitionend', removeTransition);
      });


    </script>
  </body>
</html>
